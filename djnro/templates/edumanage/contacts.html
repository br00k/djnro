{% extends "edumanage/welcome.html"%}
{% load i18n %}
{% load staticfiles %}


{% block homeactive %}{% endblock %}
{% block contactsactive %}class="active"{% endblock %}
{% block management_content %}
<h4>{% trans "Contacts" %}</h4>

	<div id="js-trans" data-json=
        '{
            "display":  "{% trans 'Display' %}",
            "nrecs":        "{% trans 'No records to display' %}",
            "entries":  "{% trans 'Showing 0 to 0 of 0 entries' %}",
            "search":       "{% trans 'Search:' %}",
            "first":        "{% trans 'First' %}",
            "prev":     "{% trans 'Previous' %}",
            "next":     "{% trans 'Next' %}",
            "last":     "{% trans 'Last' %}",
            "dellocwarn":   "{% trans 'You are about to delete contact' %}",
            "presdel":  "{% trans 'Press Delete to proceed or Cancel to cancel deletion' %}",
            "contact":    "{% trans 'Contact' %}",
            "succdel":  "{% trans 'successfully deleted' %}",
            "all":  "{% trans 'All' %}",
            "showing":  "{% trans 'Showing _START_ to _END_ of _TOTAL_ entries' %}",
            "contacts":   "{% trans 'Contacts' %}",
            "delcont": "{% trans 'Delete contact' %}"
        }'>
    </div>
    <div id="js-delurl" data-delurl="{% url del-contact %}"></div>
<hr>
  {% if messages %}
    <table class="table table-condensed">
        {% for message in messages %}
        <tr {% if message.tags %} class="{{ message.tags }}"{% endif %}><td>{{ message }}<td></tr>
        {% endfor %}
    </table>
{% endif %}
	<div id="js-contacts" data-contacts="{% if contacts %}true{% else %}false{% endif %}"></div>
  {% if contacts %}
  <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" width="100%" id="table">
	<thead>
	<tr>
		<th>{% trans "Name" %}</th>
		<th>{% trans "Email" %}</th>
		<th>{% trans "Phone" %}</th>
		<th style="text-align: center;">{% trans "Action" %}</th>
	</tr>
	</thead>

	<tbody>
    {% for contact in contacts %}
  	<tr class="GradeC">
    	<td>{{contact.name}}</td>
    	<td>{{contact.email}}</td>
    	<td>{{contact.phone}}</td>
    	<td style="text-align: center;"><a href="{% url edit-contacts contact.pk %}" class="btn btn-small">{% trans "edit" %}</a> <a href="#" id="del_contact_{{contact.pk}}" data-contactname="{{contact.name}}" class="btn btn-small btn-warning">{% trans "delete" %}</a></td>
    </tr>
  	{% endfor %}
  	</tbody>
  </table>
  {% endif %}
<div><a href="{% url edit-contacts %}" class="btn btn-primary">{% trans "Add new contact" %}</a></div>
<div class="modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	<div class="modal-dialog">
    	<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
				<h3 id="myModalLabel">{% trans "Delete contact" %}</h3>
			</div>
			<div class="modal-body" id="mymodalbody"></div>
			<div class="modal-footer">
				<button class="btn" data-dismiss="modal" aria-hidden="true">{% trans "Cancel" %}</button>
				<a class="btn btn-warning" id="delcontactSubmit" href="#">{% trans "Delete" %}</a>
			</div>
		</div>
	</div>
</div>
{% endblock %}



{% block extrajs %}
<script type="text/javascript" src="//cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="//cdn.datatables.net/plug-ins/505bef35b56/integration/bootstrap/1/dataTables.bootstrap.js"></script>
<script type="text/javascript" src="{% static 'edumanage/js/contacts.js' %}"></script>
{% endblock %}
